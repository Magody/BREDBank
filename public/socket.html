<html>
    <head>
        <!--Ese archivo socket lo genera automÃ¡ticamente-->
        <script src="/socket.io/socket.io.js"></script>
        <script src="../require.js"></script>

    </head>
    <body>
        <h1>Mira la consola.</h1>

        <button id="boton">Boton</button>

        <script>
            

            console.log('http://' + config.IP_HOST + ':' + config.port)

            var socket = io.connect('http://' + config.IP_HOST + ':' + config.port, {
                forceNew: true,  //que las conexiones siempre sean nuevas
            })

            //console.log(socket)

            socket.on("mensaje", function(data){
                console.log(data)
            }) 

            socket.on("alertaIntruso", function(data){
                alert(data)
            }) 


            // ahora escucha mensajes (WebSockets)

            /*window.addEventListener('beforeunload', function (e) { 
                e.preventDefault(); 
                e.returnValue = '';
                socket.disconnect()


            }); */
        </script>
    </body>
</html>